## Software Development for Information Systems.-Project-1
 Ανάλυση λογισμικού για πληροφοριακά συστήματα Εργασία 1



### Μεταγλώτιση και εκτέλεση

#### Mεταγλώτιση

 ```bash
make
```
#### Εκτέλεση

```bash
./sort_join
```

#### Eκτέλεση με valgrind

```bash
valgrind --leak-check=full  --show-leak-kinds=all  --track-origins=yes  --verbose  --log-file=valgrind-out.txt  ./sort_join     
```
Τα αποτελέσματα του valgrind εκτυπώνονται στο αρχείο valgrind-out.txt. Όταν τRεχουμε το πρόγραμμα με σχολιασμένη τη συνάρτηση RunAllTest() της βιβλιοθήκης CuTest.h το πρόγραμμά μας δεν εμφανίζει κανένα memory lick. Όταν το τρέχουμε αποσχολιάζοντας τη εμφανίζονται memory lick για το οποία όμως δεν ευθυνόμαστε.


### Περιγραφή λειτουργικότητας

Η υλοποίηση που ακολουθήσαμε βασίστηκε εξ΄ολοκλήρου στις οδηγίες που είχαν δωθεί κατα την παράδωση χωρίς να γίνουν κάποιες παραδωχές.
Ωστόσο μια σύντομη αναφορά της υλοποίησης μας είναι η εξής:

* Διαβάζουμε τις σχέσεις από τα αρχεία που δόθηκαν και τοποθετούμε στις σχέσεις R και S. Μερικά απο τα δεδομένα κυρίως στο medium data set
είναι 20-ψήφιοι αριθμοί και δε μπορούν να αναπαρασταθούν απο τον τύπο uint64_t που μας δόθηκε, γιαυτό και αυτοί οι αριθμοί έχουν την τιμή
9,223,372,036,854,775,807 που είναι η μέγιστη που μπορεί να αναπαρασταθεί απο τον τύπο uint64_t.

* Στη συνέχεια καλούμε την αναδρομική συνάρτηση bucket_sort που δουλεύει ως εξής:

Η συνάρτηση είναι αναδρομική.Σε κάθε επίπεδο της αναδρομής δίνουμε το διάστημ της σχέσης το οποίο μας ενδιαφέρει αλλά και την θέση του significant byte που μας ενδιαφέρει.Έπειτα φτίαχνει το ιστόγραμμα και το psum.Τέλος, βάσει του psum καλεί τον εαυτό της με τα διαστήματα που ορίζονται από την psum και με significant byte + 1.Αν στο διάστημα που δοθεί τα tuples είναι μεγέθους μικρότερου από 64kb ,καλούμε quicksort στο δοσμένο διάστημα.



* Αφού ταξινομηθούν οι δύο σχέσεις καλούμε τη συνάρτηση join() η οποία αναλαμβάνει να βρεί ποια κλειδία έχουν την ίδια τιμή. Έχει προβλεφθεί η περίπτωση ύπαρξης διπλωτύπων keys που αντιμετωπίζεται με την δημιουργία δυο μετάβλητων k, prevk που ενναλάσουν τιμές ανάλογα τη περίπτωση.

* Κάθε φορά που εντοπίζεται κοινό κλειδί καλούμε την συνάρτηση insertElement() που αναλαμβάνει να τοποθετήσει την εγγραφή σε λίστα (όπου κάθε κόμβος τη έχει μέγεθος 1MB) στη θέση που πρέπει. Δίνεται η επιλογή τα αποτελέσματα του join να αποθηκεύονται στο αρχείο JoinResults.txt.


### Χρόνος Εκτέλεσης.

Ο χρόνος εκτέλεσης του προγράμματος για τα αρχεία tiny και small είναι αμελητέος. Για το medium datasets λόγω του θέματος που αντιμετωπίσαμε με τους 20-ψήφιους αριθμούς το πρόγραμμα μας τερματίζει στέλνοντας το σήμα SIGKILL. Υποθέτουμε οτι αυτό συμβαίνει λόγω του οτι ο αριθμός 9,223,372,036,854,775,807 συναντάται πολλές φορές και γίνεται join δισεκατομμύρια φορες εξαντλώντας έτσι τους πόρους του συστήματος.


### Software Testing

Για το Software Testing που ζητήθηκε επιλέξαμε τη βιβλιοθήκη ανοιχτού κώδικα CuTest.h που συνοδεύεται απο το αρχείο CuTest.c 
Οι συναρτήσεις που υποβλήθηκαν στο Τest είναι η join() η sort() και η relation_getnumtuples() στις οποιές δόθηκαν δίαφορα test cases που πέρασαν επιτυχώς.

























